 # Wireless Communications
For the advanced design, we decided to implement CDMA for two users using gold codes. In the transmitter, the setup is similar to the basic design. We start with a shortened version of the preamble in bits since the spreading code will greatly increase the length of the signal. The goal was to transmit 100 bits for each user over CDMA. We split this message into 10 segments to allow the receiver to adapt its equalizer and keep BER below 10e-6. The new transmitted signal, xbase(t), is padded with a preamble comprising 20 frequency synchronization bits, 20 pseudorandom timing synchronization bits, 20 pseudorandom frame synchronization bits, and 20 pseudorandom pilot sequence bits. We generate two gold codes by XOR’ing two carefully chosen m-sequences. With the use of Linear Shift Feedback Registers, we generate two different m-sequences of the same length, such that they produce gold codes with low cross-correlation. These m-sequences have the same phase offsets and are chosen such that they produce unique gold codes when XOR’ed with each other. The bits are shifted by 1 place for either one of the m-sequence, to ensure unique gold codes for each user.
Before we can multiply data by the gold codes, we first produce the 4-QAM symbols and spread the symbols by creating 32 duplicates of each symbol because our spreading gain spec was 32. Once the duplicates are created, the entire symbol vector is 32 times longer. Now that the data is spread, We multiply the vector by the gold codes that also have a length of 32. Therefore, each symbol has the same number of copies as the length of the gold code. User 1’s data is multiplied by one gold code and user 2’s data is multiplied by a second. Two different gold codes have low cross-correlation and have a spectrum similar to noise. Once the two user data streams are summed, this is upsampled, convolved with an SRRCR pulse, and transmitted. The pulse in this case is different from the basic design in that it now has 40 samples per symbol instead of 30 to keep the signal within the bandwidth limits. 

In the receiver, we use the same pulse to first demodulate. We follow the same process of doing time synchronization, frame synchronization, and sampling. The only difference is the sequences that are searched for by the synchronization code. We also use the same MMSE-LE equalizer and additional phase compensation. We then run the signal through a rake receiver. We experimented with 2 and 3 finger receivers. The first finger had zero sample delay. The second finger is delayed by one sample, so the sample vector is shifted to the left by one. The third finger (when used) is delayed from the original by 2 samples. These samples are post-sampling, not from the “analog” signal sampled at 200 MHz. After the rake receiver, the spread samples (the 32 duplicates) are added together and then the sums are divided by 32 to finish despreading the signal. Once the despreading is done, the received symbols are put through the guessing code for 4-QAM. The symbols are converted back to bits and are checked for correctness with BER.
